{% extends 'base_admin.html' %}

{% block title %}Dashboard Admin{% endblock %}

{% block content %}
<h2 class="mb-4">ðŸ“Š Dashboard Admin</h2>

<div class="alert alert-info">
  Selamat datang <strong>{{ session['username'] }}</strong>! Berikut statistik hasil deteksi.
</div>

<div class="card p-4 shadow-sm">
  <h5 class="card-title">ðŸ“ˆ Statistik Deteksi Penyakit Gigi</h5>
  <canvas id="deteksiChart" height="120"></canvas>
</div>
{% endblock %}

{% block scripts %}
<script>
  const data = {
    labels: {{ chart_labels | tojson }},
    datasets: [{
      label: 'Jumlah Deteksi',
      data: {{ chart_data | tojson }},
      backgroundColor: ['#0d6efd', '#dc3545'],
      borderRadius: 6,
    }]
  };

  const config = {
    type: 'bar',
    data: data,
    options: {
      plugins: {
        legend: {
          display: false
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          ticks: {
            stepSize: 1
          }
        }
      }
    }
  };

  new Chart(document.getElementById('deteksiChart'), config);
</script>
{% endblock %}